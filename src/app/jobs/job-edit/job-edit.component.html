<div class="job-edit-container">
  <form id="jobForm" #jobForm = "ngForm" (ngSubmit)="onSubmit(jobForm.value, jobForm)">
    <input  name="id" #id="ngModel" [(ngModel)]="selectedJob.$id" hidden="true" > 
    <div class="form-group">
        <mat-form-field class="example-full-width">
              <input matInput name="title" #title="ngModel" [(ngModel)]="selectedJob.title" placeholder="Title" required />
        </mat-form-field>
    </div>
    <div class="form-group">
      <mat-form-field class="example-full-width-textarea" >
            <textarea  style="min-height:120px;" matInput name="description1" #description1="ngModel" [(ngModel)]="selectedJob.description1" placeholder="Description 1" required> </textarea>
      </mat-form-field>
    </div>
    <div class="form-group">
        <mat-form-field class="example-full-width-textarea">
              <textarea  style="min-height:120px;" matInput name="description2" #description2="ngModel" [(ngModel)]="selectedJob.description2" placeholder="Description 2"> </textarea>
        </mat-form-field>
    </div>
    <div class="form-group">
        <mat-form-field class="example-full-width">
              <input matInput name="country" #country="ngModel" [(ngModel)]="selectedJob.country" placeholder="Pays" required />
        </mat-form-field>
    </div>
    <div class="form-group">
        <mat-form-field class="example-full-width">
              <input matInput name="city" #city="ngModel" [(ngModel)]="selectedJob.city" placeholder="Ville" required />
        </mat-form-field>
    </div>
    <div class="form-group">
        <mat-form-field class="example-full-width">
            <mat-label>Type de contrat</mat-label>
            <mat-select  [(ngModel)]="selectedJob.contractType" name="contractType" required>
                <mat-option *ngFor="let ctt of contracttypes" [value]="ctt.value">
                    {{ctt.viewValue}}
                </mat-option>
              </mat-select>
        </mat-form-field>
    </div>
    <div class="form-group">
          <mat-form-field class="example-full-width">
              <input matInput name="salary" #salary="ngModel" [(ngModel)]="selectedJob.salary" placeholder="Salalary" />
          </mat-form-field>
    </div>
    <div class="form-group">
      <mat-form-field class="example-full-width">
          <input matInput name="email" #email="ngModel" [(ngModel)]="selectedJob.email" placeholder="Email" required/>
      </mat-form-field>
    </div>
    <div class="form-group">
        <mat-form-field class="example-full-width">
            <mat-label>Secteur</mat-label>
            <mat-select [(ngModel)]="selectedJob.category" name="category" required>
                <mat-option *ngFor="let ctg of categories" [value]="ctg.value">
                    {{ctg.viewValue}}
                </mat-option>
              </mat-select>
        </mat-form-field>
    </div>
    <div class="form-group">
      <!--{{jobService.selectedJob.publishDate | date:'medium'}}-->
      <mat-form-field>
          <input matInput name="publishDate" #publishDate="ngModel"   placeholder="PublishDate" [(ngModel)]="selectedJob.publishDate">
      </mat-form-field>
    </div>
    <div class="form-group">
        <button class="btn basic-btn" type="submit" [disabled]="!jobForm.valid">
          <i class="fa fa-save"></i>
          Submit
        </button>
        <button class="btn basic-btn" type="button" (click)="resetForm(jobForm)">
          Reset
          <i class="fa fa-undo"></i>
        </button>
    </div>
    <div class="form-group">
        
    </div>
  </form> 
  <h1>Liste de vos offres d'emploi</h1>
  <table class="table table-sm table-hover">
        <tr *ngFor="let job of jobList">
            <td>{{job.payload.doc.data().title}}</td>
            <td>{{job.payload.doc.data().description}}</td>
            <td>{{job.payload.doc.data().salary}}</td>
            <td>
                  <a class="btn" (click)="onEdit(job.payload.doc.data(), job.payload.doc.id)">
                    <i class="fa fa-pencil-square"></i>
                  </a>
            </td>
            <td>
                <a class="btn" (click)="onDelete(job.payload.doc.id)">
                <i class="fa fa-trash"></i>
              </a>
            </td>
        </tr>
  </table>
</div>